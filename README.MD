# QuickStock ‚Äì Sistema de Gesti√≥n de Inventario en PHP (MVC)

QuickStock es una aplicaci√≥n web modular desarrollada bajo el patr√≥n **Modelo-Vista-Controlador (MVC)**, dise√±ada para facilitar la gesti√≥n eficiente de inventario en entornos escalables, seguros y mantenibles. El sistema permite separar la l√≥gica de negocio, la presentaci√≥n y el control de flujo, garantizando una arquitectura clara, reutilizable y preparada para evoluci√≥n funcional.

---

## Tareas

Para ver la **Estructura Completa de Tareas y Pendientes**, visita nuestro [Tablero Kanban aqu√≠ ‚û°Ô∏è](.kanbn/index.md).

---

## Inicio r√°pido

Este repositorio corresponde al sistema QuickStock, una aplicaci√≥n web modular desarrollada en PHP bajo el patr√≥n MVC. Su estructura est√° dise√±ada para facilitar la mantenibilidad, escalabilidad y claridad t√©cnica en entornos de desarrollo profesional.

Para conocer el flujo de trabajo, convenciones internas y recomendaciones de implementaci√≥n, consulta el [manual del desarrollador](/src/docs/manual_desarrollador.md).

---

## Caracter√≠sticas Principales

QuickStock ofrece funcionalidades completas para la gesti√≥n de inventario y ventas:

### üìä M√≥dulo de Reportes

- **Generaci√≥n de Reportes Din√°micos**: Ventas, Inventario, Rotaci√≥n de Productos y Financiero
- **Exportaci√≥n a PDF**: Reportes profesionales con mPDF 8.2
- **Filtrado Avanzado**: Por rango de fechas y sucursal
- **Visualizaci√≥n HTML**: Vista previa en pantalla antes de exportar

### üè™ Gesti√≥n de Inventario

- Control de stock por sucursal
- Categorizaci√≥n de productos
- Alertas de stock m√≠nimo
- Historial de movimientos

### üí∞ Punto de Venta

- Registro de ventas r√°pido
- M√∫ltiples m√©todos de pago
- Gesti√≥n de clientes
- Facturaci√≥n autom√°tica

### üë• Gesti√≥n de Personal

- Control de empleados por sucursal
- Roles y permisos
- Historial de actividades

---

## Tecnolog√≠as Principales

El proyecto est√° construido con un stack moderno y enfocado en la seguridad y la modularidad.

| Componente     | Versi√≥n / Prop√≥sito                   |
| :------------- | :------------------------------------ |
| **PHP**        | 8.0+ (POO, modularidad)               |
| **PostgreSQL** | 12+ (Base de datos relacional)        |
| **Composer**   | Gesti√≥n de dependencias y autoloading |
| **Bootstrap**  | 5 (Estilos y dise√±o responsivo)       |
| **mPDF**       | 8.2+ (Generaci√≥n de PDFs)             |
| **Apache**     | Reescritura de URLs con `.htaccess`   |
| **OpenSSL**    | Encriptaci√≥n de datos sensibles       |

---

## Instalaci√≥n y Configuraci√≥n

Sigue estos pasos para poner en marcha el proyecto en tu entorno local. Requisitos m√≠nimos: PHP 8.0+, Apache y Composer.

### 1. Preparar el entorno de desarrollo

Ubica el directorio ra√≠z de tu servidor web (por ejemplo, `htdocs` en XAMPP) y crea la siguiente estructura:

```bash
cd xampp/htdocs
mkdir -p DEV/PHP
cd DEV/PHP
```

### 2. Clonar el repositorio

Clona el proyecto en la carpeta creada:

```bash
git clone https://LINK_DEL_REPOSITORIO
cd nombre-del-repositorio
git init
git remote add origin https://LINK_DEL_REPOSITORIO
git switch master
git pull origin master
```

### 3. Instalar dependencias

Ejecuta Composer para instalar las librer√≠as necesarias:

> üí° Presiona ctrl + √± para abrir el terminal integrado o abre la terminal en la carpeta raiz del proyecto

```bash
composer install
```

### 4. Verificar configuraci√≥n de Apache

Aseg√∫rate de que el m√≥dulo mod_rewrite est√© habilitado y que el archivo .htaccess est√© siendo interpretado correctamente. Esto es necesario para la reescritura de URLs.

### 5. Configurar base de datos (PostgreSQL)

Importa el archivo src/config/quickstock.sql en tu gestor de base de datos (por ejemplo, phpMyAdmin) y ajusta las credenciales en src/config/SERVER.php seg√∫n tu entorno local.

> üí° En caso de utilizar **PostgreSQL** como manejador de base de datos, sigue estos pasos adicionales:

#### a. Importar la base de datos

Utiliza tu gestor de base de datos (por ejemplo, pgAdmin o la terminal) para importar el archivo `src/config/quickstock.sql` a tu instancia de PostgreSQL. Aseg√∫rate de crear previamente la base de datos con el nombre correspondiente.

```bash
psql -U tu_usuario -d nombre_base_datos -f src/config/quickstock.sql
```

#### b. Modificar la conexi√≥n en el c√≥digo

Edita el archivo src/config/SERVER.php para adaptar la conexi√≥n a PostgreSQL utilizando pg_connect. Aseg√∫rate de que el formato sea compatible. Ejemplo:

```php
define('DB_CONNECTION', pg_connect("host=localhost port=5432 dbname=nombre_base_datos user=tu_usuario password=tu_clave"));
```

> üí° Por lo general el usuario por defecto es postgres y en caso de no haber configurado una contrase√±a se omite el campo 'password=' del DSN

#### c. Validar compatibilidad

Verifica que los modelos y funciones que interact√∫an con la base de datos est√©n adaptados para PostgreSQL. Si originalmente fueron escritos para MySQL (por ejemplo, usando mysqli*\* o PDO con mysql:), ser√° necesario refactorizar las llamadas para usar funciones compatibles con pg*\*.

#### d. Revisi√≥n adicional

Aseg√∫rate de que los tipos de datos en el script SQL sean compatibles con PostgreSQL.

Revisa el uso de comillas, funciones espec√≠ficas (NOW(), AUTO_INCREMENT, etc.) y sintaxis de claves primarias/for√°neas.

## Estructura del Proyecto (MVC)

El n√∫cleo del sistema sigue el patr√≥n **Modelo-Vista-Controlador (MVC)**, garantizando la separaci√≥n de responsabilidades:

| Carpeta       | Rol dentro del MVC    | Descripci√≥n                                                                  |
| :------------ | :-------------------- | :--------------------------------------------------------------------------- |
| `controller/` | **Controlador (C)**   | Gestiona el flujo de la aplicaci√≥n e invoca las vistas seg√∫n la URL.         |
| `model/`      | **Modelo (M)**        | L√≥gica de negocio, conexi√≥n a la base de datos, encriptaci√≥n y validaciones. |
| `view/`       | **Vista (V)**         | Archivos de presentaci√≥n: HTML, CSS, JS y plantilla base.                    |
| `assets/`     | **Recursos visuales** | Bootstrap, componentes, im√°genes, iconos y elementos PHP reutilizables.      |
| `shared/`     | **L√≥gica compartida** | Traits PHP reutilizables entre modelos y controladores.                      |
| `config/`     | **Configuraci√≥n**     | Constantes globales, credenciales y script de base de datos.                 |
| `docs/`       | **Documentaci√≥n**     | Manuales t√©cnicos, changelog, estructura y diagramas del sistema.            |

### Referencia a estructura del proyecto

> [Estructura del proyecto](src/docs/estructura_proyecto.md)

---

## Contribuci√≥n

**¬°Las contribuciones son bienvenidas!** Para colaborar en el desarrollo:

1.  Clona el repositorio y crea una rama a partir de `master`:

```bash
git checkout -b feature/nombre-funcionalidad
```

2.  Sigue las **Convenciones de Desarrollo**.
3.  Aseg√∫rate de que tus cambios pasen las pruebas.
4.  Realiza un `commit` descriptivo y abre un **Pull Request (PR)**.

```bash
git add .
git commit -m "commit descriptivo"
```

5. Borrar la rama que creaste luego de hacer pull request con:

```bash
git branch -D feature/nombre-funcionalidad
```

### Referencia a Guia de contribucion

> [Contributing.md](src/docs/Contributing.md)

---

## Seguridad

La seguridad es una prioridad. Por favor, aseg√∫rate de:

- Usar siempre **consultas preparadas (PDO)** para interactuar con la base de datos.
- **Hashear contrase√±as** con `password_hash`.
- **No modificar** archivos cr√≠ticos como `config/SERVER` o `.htaccess`.

---

## Licencia

Este proyecto est√° bajo la Licencia **MIT** - ver el archivo [LICENSE.md](src/docs/LICENSE.MD) para m√°s detalles.
